(this["webpackJsonpminions-shop"]=this["webpackJsonpminions-shop"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/title.3d261bb2.svg"},20:function(e,t,a){e.exports=a.p+"static/media/filled-heart.0f0a056e.svg"},21:function(e,t,a){e.exports=a.p+"static/media/filled-bag.7d3288e5.svg"},22:function(e,t,a){e.exports=a.p+"static/media/minion.037f17f0.svg"},25:function(e,t,a){e.exports=a(39)},37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a(1),o=a(2),s=a(17),i=a(10),u=a(3),m={isLoading:!1,filters:{}},d={activePage:"main"},p=Object(o.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ACTIVE_PAGE":return Object(u.a)({},e,{activePage:t.payload});default:return e}},mainPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_LOADER":return Object(u.a)({},e,{isLoading:!0});case"HIDE_LOADER":return Object(u.a)({},e,{isLoading:!1});case"CHANGE_FILTER":var a=Object(u.a)({},e.filters);return a[t.payload.filter]=t.payload.value,Object(u.a)({},e,{filters:a});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return[].concat(Object(i.a)(e),Object(i.a)(t.payload));case"CHANGE_STATUS":var a=Object(i.a)(e);return a[t.payload.id].status=t.payload.status,a;default:return e}}}),_=(a(36),a(37),a(18)),v=a.n(_),E=a(8),b=a.n(E),g=a(9),f=a.n(g),h=a(6),N=a.n(h),O=a(14);function y(e){return{type:"CHANGE_ACTIVE_PAGE",payload:e}}var j=function(e){return{type:"CHANGE_STATUS",payload:{id:e,status:"saved"}}},C=function(e){return{type:"CHANGE_STATUS",payload:{id:e,status:"bag"}}},k=function(e){return{type:"CHANGE_STATUS",payload:{id:e,status:null}}},T=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.products})),a=t.filter((function(e){return"saved"===e.status})).length,n=t.filter((function(e){return"bag"===e.status})).length;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container"},r.a.createElement("img",{src:v.a,alt:"title",className:"header__title"}),r.a.createElement("button",{className:"header__button header__saved-button",onClick:function(){return e(y("saved"))}},r.a.createElement("img",{src:b.a,alt:"saved"}),r.a.createElement("span",{className:"header__products-count header__saved-count"},a)),r.a.createElement("button",{className:"header__button header__bag-button",onClick:function(){return e(y("bag"))}},r.a.createElement("img",{src:f.a,alt:"bag"}),r.a.createElement("span",{className:"header__products-count"},n))))},A=a(19),S=a(20),H=a.n(S),x=a(21),w=a.n(x),P=function(e){var t=e.product,a=Object(l.b)(),n=t.id,c=t.title,o=t.image,s=t.price,i=t.label,u=t.status,m="./minions/"+o,d="saved"===u?H.a:b.a,p="bag"===u?w.a:f.a;return r.a.createElement("div",{className:"main-page-product"},r.a.createElement("img",{src:m,alt:"minion",className:"main-page-product__image"}),r.a.createElement("h4",{className:"main-page-product__title"},c),r.a.createElement("div",{className:"main-page-product__price-buttons-container"},r.a.createElement("div",{className:"main-page-product__price"},s,"$"),r.a.createElement("button",{className:"main-page-product__button main-page-product__save-button",onClick:function(){a("saved"!==u?j(n):k(n))}},r.a.createElement("img",{src:d,alt:"saved"})),r.a.createElement("button",{className:"main-page-product__button main-page-product__bag-button",onClick:function(){a("bag"!==u?C(n):k(n))}},r.a.createElement("img",{src:p,alt:"bag"}))),i&&r.a.createElement("div",{className:"main-page-product__label main-page-product__label_type_"+i},i))},L=function(){return r.a.createElement("div",{className:"loading"},"  ",r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),"  ")},D=a(22),G=a.n(D),I=function(){return r.a.createElement("div",{className:"nothing-there"},r.a.createElement("h6",{className:"nothing-there__title"},"Nothing there"),r.a.createElement("img",{src:G.a,alt:"minion",className:"nothing-there__image"}))},R=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.mainPage.isLoading})),a=Object(l.c)((function(e){return e.mainPage.filters})),n=Object(l.c)((function(e){return e.products}));n.length||t||e(function(){var e=Object(O.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SHOW_LOADER"}),e.next=3,fetch("./products.json");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:"FETCH_PRODUCTS",payload:n}),t({type:"HIDE_LOADER"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var c=(n=n.filter((function(e){return function(e,t){var a,n=Object(A.a)((r=t,Object.keys(r)));var r;try{for(n.s();!(a=n.n()).done;){var c=a.value;if(t[c]&&e[c]!==t[c])return!1}}catch(l){n.e(l)}finally{n.f()}return!0}(e,a)}))).map((function(e){return r.a.createElement(P,{product:e,key:e.id})}));return n.length?r.a.createElement("div",{className:"main-page__products"},c,r.a.createElement("button",{className:"main-page__load-more-button",onClick:function(){return e((t=n[n.length-1].id+1,function(){var e=Object(O.a)(N.a.mark((function e(a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"SHOW_LOADER"}),e.next=3,fetch("./products.json");case 3:return n=e.sent,e.next=6,n.json();case 6:(r=e.sent).forEach((function(e){e.id=t++})),a({type:"FETCH_PRODUCTS",payload:r}),a({type:"HIDE_LOADER"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t}},"Load more")):t?r.a.createElement(L,null):r.a.createElement(I,null)};var F=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.mainPage.filters})),a=t.eyes,n=t.clothes,c=t.color;function o(t){var a=t.target,n=a.name,r=a.value;e(function(e,t){return{type:"CHANGE_FILTER",payload:{filter:e,value:t}}}(n,r))}return r.a.createElement("div",{className:"main-page__filters filters"},r.a.createElement("div",{className:"filters__select"},r.a.createElement("select",{name:"eyes",value:a,onChange:o},r.a.createElement("option",{value:""},"Eyes count"),r.a.createElement("option",{value:"1"},"One eye"),r.a.createElement("option",{value:"2"},"Two eyes"))),r.a.createElement("div",{className:"filters__select"},r.a.createElement("select",{name:"clothes",value:n,onChange:o},r.a.createElement("option",{value:""},"Clothes type"),r.a.createElement("option",{value:"work"},"Work clothes"),r.a.createElement("option",{value:"casual"},"Casual clothes"))),r.a.createElement("div",{className:"filters__select"},r.a.createElement("select",{name:"color",value:c,onChange:o},r.a.createElement("option",{value:""},"Color"),r.a.createElement("option",{value:"yellow"},"Yellow"),r.a.createElement("option",{value:"purple"},"Purple"))))},U=function(){return r.a.createElement("div",{className:"main-page"},r.a.createElement(F,null),r.a.createElement(R,null))},W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"footer__copyright"},"MINIONS SHOP \xa92020")),r.a.createElement("div",{className:"footer__placeholder"}))},$=function(e){var t=e.product,a=Object(l.b)(),n=t.id,c=t.title,o=t.image,s=t.price,i=t.label,u="./minions/"+o;return r.a.createElement("div",{className:"saved-product"},r.a.createElement("img",{src:u,alt:"minion",className:"saved-product__image"}),r.a.createElement("h4",{className:"saved-product__title"},c),r.a.createElement("div",{className:"saved-product__price-button-container"},r.a.createElement("div",{className:"saved-product__price"},s,"$"),r.a.createElement("button",{className:"saved-product__move-to-bag-button",onClick:function(){a(C(n))}},"Move to bag")),r.a.createElement("button",{className:"saved-product__remove-button",onClick:function(){a(k(n))}},"\xd7"),i&&r.a.createElement("div",{className:"saved-product__label saved-product__label_type_"+i},i))},M=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.products})),a=(t=t.filter((function(e){return"saved"===e.status}))).length,n=t.map((function(e){return r.a.createElement($,{product:e,key:e.id})}));return r.a.createElement("div",{className:"saved"},r.a.createElement("div",{className:"saved__title-container"},r.a.createElement("h2",{className:"saved__title"},"Saved minions (",a,")"),r.a.createElement("button",{className:"saved__main-page-button",onClick:function(){return e(y("main"))}},"To main page")),r.a.createElement("div",{className:"saved__products"},a?n:r.a.createElement(I,null)))},B=function(e){var t=e.product,a=Object(l.b)(),n=t.id,c=t.title,o=t.image,s=t.price,i=t.label,u="./minions/"+o;return r.a.createElement("div",{className:"bag-product"},r.a.createElement("img",{src:u,alt:"minion",className:"bag-product__image"}),r.a.createElement("h4",{className:"bag-product__title"},c),r.a.createElement("div",{className:"bag-product__price"},s,"$"),r.a.createElement("button",{className:"bag-product__save-button",onClick:function(){a(j(n))}},"Save ",r.a.createElement("span",{className:"bag-product__heart"},"\u2661")),r.a.createElement("button",{className:"bag-product__remove-button",onClick:function(){a(k(n))}},"\xd7"),i&&r.a.createElement("div",{className:"bag-product__label bag-product__label_type_"+i},i))},J=a(24),V=a(23),q=a.n(V),Y=function(e){var t=e.products;var a=Object(n.useState)(""),c=Object(J.a)(a,2),o=c[0],s=c[1],i=Object(l.b)(),u=t.length+(1===t.length?" minion":" minions"),m=t.reduce((function(e,t){return e+t.price}),0);return r.a.createElement("div",{className:"bag__order order"},r.a.createElement("h3",{className:"order__title"},"Total"),r.a.createElement("div",{className:"order__amount"},m,"$"),r.a.createElement("div",{className:"order__products-count"},u),r.a.createElement("input",{className:"order__email",onChange:function(e){return s(e.target.value)},value:o,type:"text",name:"email",placeholder:"Email"}),r.a.createElement("a",{href:"#email",className:"order__button",onClick:function(){t.length?q.a.validate(o)?(s(""),t.forEach((function(e){return i(k(e.id))})),z("Success","green")):z("Invalid email","red"):z("Order is empty","red")}},"Get order details"),r.a.createElement("div",{className:"order__message"}))};function z(e,t){var a=document.querySelector(".order__message");a.className="order__message order__message_color_"+t,a.textContent=e,setTimeout((function(){return a.textContent=null}),3e3)}var K=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.products})),a=(t=t.filter((function(e){return"bag"===e.status}))).length,n=t.map((function(e){return r.a.createElement(B,{product:e,key:e.id})}));return r.a.createElement("div",{className:"bag"},r.a.createElement("div",{className:"bag__container"},r.a.createElement("div",{className:"bag__title-container"},r.a.createElement("h2",{className:"bag__title"},"Bag (",a,")"),r.a.createElement("button",{className:"bag__main-page-button",onClick:function(){return e(y("main"))}},"To main page")),r.a.createElement("div",{className:"bag__products"},a?n:r.a.createElement(I,null)),r.a.createElement(Y,{products:t})))},Q=function(){var e;switch(Object(l.c)((function(e){return e.app.activePage}))){case"saved":e=r.a.createElement(M,null);break;case"bag":e=r.a.createElement(K,null);break;default:e=r.a.createElement(U,null)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),e,r.a.createElement(W,null))},X=Object(o.d)(p,Object(o.a)(s.a));Object(c.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:X},r.a.createElement(Q,null))),document.getElementById("root"))},8:function(e,t,a){e.exports=a.p+"static/media/heart.7746f5e4.svg"},9:function(e,t,a){e.exports=a.p+"static/media/bag.2dcbf8cf.svg"}},[[25,1,2]]]);
//# sourceMappingURL=main.3c55eff0.chunk.js.map