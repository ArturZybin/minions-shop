(this["webpackJsonpminions-shop"]=this["webpackJsonpminions-shop"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/title.3d261bb2.svg"},19:function(e,t,a){e.exports=a.p+"static/media/filled-heart.0f0a056e.svg"},20:function(e,t,a){e.exports=a.p+"static/media/filled-bag.7d3288e5.svg"},21:function(e,t,a){e.exports=a.p+"static/media/minion.037f17f0.svg"},24:function(e,t,a){e.exports=a(38)},36:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a(1),o=a(2),i=a(17),s=a(10),u=a(3),m={isLoading:!1,filters:{}},d={activePage:"main"},p=Object(o.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ACTIVE_PAGE":return Object(u.a)({},e,{activePage:t.payload});default:return e}},mainPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_LOADER":return Object(u.a)({},e,{isLoading:!0});case"HIDE_LOADER":return Object(u.a)({},e,{isLoading:!1});case"CHANGE_FILTER":var a=Object(u.a)({},e.filters);return a[t.payload.filter]=t.payload.value,Object(u.a)({},e,{filters:a});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return[].concat(Object(s.a)(e),Object(s.a)(t.payload));case"CHANGE_STATUS":var a=Object(s.a)(e);return a[t.payload.id].status=t.payload.status,a;default:return e}}}),_=(a(35),a(36),a(18)),E=a.n(_),v=a(8),g=a.n(v),b=a(9),f=a.n(b),h=a(5),N=a.n(h),y=a(14);function O(e){return{type:"CHANGE_ACTIVE_PAGE",payload:e}}var C=function(e){return{type:"CHANGE_STATUS",payload:{id:e,status:"saved"}}},j=function(e){return{type:"CHANGE_STATUS",payload:{id:e,status:"bag"}}},k=function(e){return{type:"CHANGE_STATUS",payload:{id:e,status:null}}};function T(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.products})),a=t.filter((function(e){return"saved"===e.status})).length,n=t.filter((function(e){return"bag"===e.status})).length;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__container"},r.a.createElement("img",{src:E.a,alt:"title",className:"header__title"}),r.a.createElement("button",{className:"header__button header__saved-button",onClick:function(){return e(O("saved"))}},r.a.createElement("img",{src:g.a,alt:"saved"}),r.a.createElement("span",{className:"header__products-count header__saved-count"},a)),r.a.createElement("button",{className:"header__button header__bag-button",onClick:function(){return e(O("bag"))}},r.a.createElement("img",{src:f.a,alt:"bag"}),r.a.createElement("span",{className:"header__products-count"},n))))}var A=a(19),S=a.n(A),H=a(20),x=a.n(H);function w(e){var t=e.product,a=Object(l.b)(),n=t.id,c=t.title,o=t.image,i=t.price,s=t.label,u=t.status,m="./minions/"+o,d="saved"===u?S.a:g.a,p="bag"===u?x.a:f.a;return r.a.createElement("div",{className:"main-page-product"},r.a.createElement("img",{src:m,alt:"minion",className:"main-page-product__image"}),r.a.createElement("h4",{className:"main-page-product__title"},c),r.a.createElement("div",{className:"main-page-product__price-buttons-container"},r.a.createElement("div",{className:"main-page-product__price"},i,"$"),r.a.createElement("button",{className:"main-page-product__button main-page-product__save-button",onClick:function(){a("saved"!==u?C(n):k(n))}},r.a.createElement("img",{src:d,alt:"saved"})),r.a.createElement("button",{className:"main-page-product__button main-page-product__bag-button",onClick:function(){a("bag"!==u?j(n):k(n))}},r.a.createElement("img",{src:p,alt:"bag"}))),s&&r.a.createElement("div",{className:"main-page-product__label main-page-product__label_type_"+s},s))}var L=function(){return r.a.createElement("div",{className:"loading"},"  ",r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),"  ")},P=a(21),D=a.n(P),R=function(){return r.a.createElement("div",{className:"nothing-there"},r.a.createElement("h6",{className:"nothing-there__title"},"Nothing there"),r.a.createElement("img",{src:D.a,alt:"minion",className:"nothing-there__image"}))};function I(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.mainPage.isLoading})),a=Object(l.c)((function(e){return e.mainPage.filters})),n=Object(l.c)((function(e){return e.products})),c=n.length?n[n.length-1].id+1:null;return n.length||t||e(function(){var e=Object(y.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SHOW_LOADER"}),e.next=3,fetch("./products.json");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:"FETCH_PRODUCTS",payload:n}),t({type:"HIDE_LOADER"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(n=(n=n.filter((function(e){return function(e,t){for(var a=0,n=Object.keys(t);a<n.length;a++){var r=n[a];if(t[r]&&e[r]!==t[r])return!1}return!0}(e,a)}))).map((function(e){return r.a.createElement(w,{product:e,key:e.id})}))).length?r.a.createElement("div",{className:"main-page__products"},n,r.a.createElement("button",{className:"main-page__load-more-button",onClick:function(){return e(function(e){return function(){var t=Object(y.a)(N.a.mark((function t(a){var n,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SHOW_LOADER"}),t.next=3,fetch("./products.json");case 3:return n=t.sent,t.next=6,n.json();case 6:(r=t.sent).forEach((function(t){t.id=e++})),a({type:"FETCH_PRODUCTS",payload:r}),a({type:"HIDE_LOADER"});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}},"Load more")):t?r.a.createElement(L,null):r.a.createElement(R,null)}function G(){var e=Object(l.b)();function t(t){var a=t.target.name,n=t.target.value;e(function(e,t){return t||(t=null),{type:"CHANGE_FILTER",payload:{filter:e,value:t}}}(a,n))}return r.a.createElement("div",{className:"main-page__filters filters"},r.a.createElement("div",{className:"filters__select"},r.a.createElement("select",{name:"eyes",onChange:t},r.a.createElement("option",{value:""},"Eyes count"),r.a.createElement("option",{value:"1"},"One eye"),r.a.createElement("option",{value:"2"},"Two eyes"))),r.a.createElement("div",{className:"filters__select"},r.a.createElement("select",{name:"clothes",onChange:t},r.a.createElement("option",{value:""},"Clothes type"),r.a.createElement("option",{value:"work"},"Work clothes"),r.a.createElement("option",{value:"casual"},"Casual clothes"))),r.a.createElement("div",{className:"filters__select"},r.a.createElement("select",{name:"color",onChange:t},r.a.createElement("option",{value:""},"Color"),r.a.createElement("option",{value:"yellow"},"Yellow"),r.a.createElement("option",{value:"purple"},"Purple"))))}var F=function(){return r.a.createElement("div",{className:"main-page"},r.a.createElement(G,null),r.a.createElement(I,null))};function U(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"footer__copyright"},"MINIONS SHOP \xa92020")),r.a.createElement("div",{className:"footer__placeholder"}))}function W(e){var t=e.product,a=Object(l.b)(),n=t.id,c=t.title,o=t.image,i=t.price,s=t.label,u="./minions/"+o;return r.a.createElement("div",{className:"saved-product"},r.a.createElement("img",{src:u,alt:"minion",className:"saved-product__image"}),r.a.createElement("h4",{className:"saved-product__title"},c),r.a.createElement("div",{className:"saved-product__price-button-container"},r.a.createElement("div",{className:"saved-product__price"},i,"$"),r.a.createElement("button",{className:"saved-product__move-to-bag-button",onClick:function(){a(j(n))}},"Move to bag")),r.a.createElement("button",{className:"saved-product__remove-button",onClick:function(){a(k(n))}},"\xd7"),s&&r.a.createElement("div",{className:"saved-product__label saved-product__label_type_"+s},s))}function $(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.products})),a=(t=t.filter((function(e){return"saved"===e.status}))).length;return t=t.map((function(e){return r.a.createElement(W,{product:e,key:e.id})})),r.a.createElement("div",{className:"saved"},r.a.createElement("div",{className:"saved__title-container"},r.a.createElement("h2",{className:"saved__title"},"Saved minions (",a,")"),r.a.createElement("button",{className:"saved__main-page-button",onClick:function(){return e(O("main"))}},"To main page")),r.a.createElement("div",{className:"saved__products"},t.length?t:r.a.createElement(R,null)))}var M=a(23),q=a(22),B=a.n(q);function J(e){var t=e.product,a=Object(l.b)(),n=t.id,c=t.title,o=t.image,i=t.price,s=t.label,u="./minions/"+o;return r.a.createElement("div",{className:"bag-product"},r.a.createElement("img",{src:u,alt:"minion",className:"bag-product__image"}),r.a.createElement("h4",{className:"bag-product__title"},c),r.a.createElement("div",{className:"bag-product__price"},i,"$"),r.a.createElement("button",{className:"bag-product__save-button",onClick:function(){a(C(n))}},"Save ",r.a.createElement("span",{className:"bag-product__heart"},"\u2661")),r.a.createElement("button",{className:"bag-product__remove-button",onClick:function(){a(k(n))}},"\xd7"),s&&r.a.createElement("div",{className:"bag-product__label bag-product__label_type_"+s},s))}function V(){var e=Object(n.useState)(""),t=Object(M.a)(e,2),a=t[0],c=t[1],o=Object(l.b)(),i=Object(l.c)((function(e){return e.products})),s=(i=i.filter((function(e){return"bag"===e.status}))).length;s+=1===s?" minion":" minions";var u=i.reduce((function(e,t){return e+t.price}),0),m=i.map((function(e){return r.a.createElement(J,{product:e,key:e.id})}));return r.a.createElement("div",{className:"bag"},r.a.createElement("div",{className:"bag__container"},r.a.createElement("div",{className:"bag__title-container"},r.a.createElement("h2",{className:"bag__title"},"Bag (",s,")"),r.a.createElement("button",{className:"bag__main-page-button",onClick:function(){return o(O("main"))}},"To main page")),r.a.createElement("div",{className:"bag__products"},i.length?m:r.a.createElement(R,null)),r.a.createElement("div",{className:"bag__order order"},r.a.createElement("h3",{className:"order__title"},"Total"),r.a.createElement("div",{className:"order__amount"},u,"$"),r.a.createElement("div",{className:"order__products-count"},s),r.a.createElement("input",{className:"order__email",onChange:function(e){return c(e.target.value)},value:a,type:"text",name:"email",placeholder:"Email"}),r.a.createElement("button",{className:"order__button",onClick:function(){B.a.validate(a)?i.length?(c(""),i.forEach((function(e){return o(k(e.id))}))):Y("Order is empty"):Y("Invalid email")}},"Receive order"),r.a.createElement("div",{className:"order__message"}))))}function Y(e){document.querySelector(".order__message").textContent=e,setTimeout((function(){return document.querySelector(".order__message").textContent=null}),3e3)}var z=function(){var e;switch(Object(l.c)((function(e){return e.app.activePage}))){case"saved":e=r.a.createElement($,null);break;case"bag":e=r.a.createElement(V,null);break;default:e=r.a.createElement(F,null)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),e,r.a.createElement(U,null))},K=Object(o.d)(p,Object(o.a)(i.a));Object(c.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:K},r.a.createElement(z,null))),document.getElementById("root"))},8:function(e,t,a){e.exports=a.p+"static/media/heart.7746f5e4.svg"},9:function(e,t,a){e.exports=a.p+"static/media/bag.2dcbf8cf.svg"}},[[24,1,2]]]);
//# sourceMappingURL=main.23f45acf.chunk.js.map