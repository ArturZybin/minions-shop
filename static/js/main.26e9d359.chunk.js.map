{"version":3,"sources":["img/title.svg","img/filled-heart.svg","img/filled-bag.svg","redux/mainPageReducer.js","redux/rootReducer.js","redux/types.js","redux/productsReducer.js","components/Header.jsx","redux/actions.js","components/mainPage/Product.jsx","components/mainPage/Products.jsx","components/mainPage/Filters.jsx","components/mainPage/MainPage.jsx","App.jsx","index.jsx","img/heart.svg","img/bag.svg"],"names":["module","exports","initialState","isLoading","filters","rootReducer","combineReducers","mainPage","state","action","type","payload","filter","value","products","newState","id","status","Header","useSelector","savedProductsCount","product","length","bagProductsCount","className","src","title","alt","heart","bag","removeProductStatus","Product","dispatch","useDispatch","image","price","label","imageSrc","heartSrc","filledHeart","bagSrc","filledBag","onClick","saveProduct","addProductToBag","Products","nextId","Object","keys","filterProduct","a","fetch","response","json","map","key","forEach","fetchNewProducts","Filters","handleFilterChange","event","target","name","changeFilter","onChange","MainPage","App","store","createStore","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","render","StrictMode","document","getElementById"],"mappings":"sGAAAA,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,0C,mBCA3CD,EAAOC,QAAU,IAA0B,wC,+JCErCC,EAAe,CAClBC,WAAW,EACXC,QAAS,ICCCC,EAAcC,YAAgB,CACxCC,SDC4B,WAAmC,IAAlCC,EAAiC,uDAAzBN,EAAcO,EAAW,uCAC9D,OAAQA,EAAOC,MACZ,IEHqB,cFIlB,OAAO,eAAKF,EAAZ,CAAmBL,WAAW,IACjC,IEJqB,cFKlB,OAAO,eAAKK,EAAZ,CAAmBL,WAAW,IACjC,IELuB,gBFMpB,IAAMC,EAAO,eAAOI,EAAMJ,SAE1B,OADAA,EAAQK,EAAOE,QAAQC,QAAUH,EAAOE,QAAQE,MACzC,eAAIL,EAAX,CAAkBJ,YACrB,QACG,OAAOI,ICXbM,SEJ4B,WAAyB,IAAxBN,EAAuB,uDAAf,GAAIC,EAAW,uCACpD,OAAQA,EAAOC,MACZ,IDJwB,iBCKrB,MAAM,GAAN,mBAAWF,GAAX,YAAqBC,EAAOE,UAC/B,IDHuB,gBCIpB,IAAMI,EAAQ,YAAOP,GAErB,OADAO,EAASN,EAAOE,QAAQK,IAAIC,OAASR,EAAOE,QAAQM,OAC7CF,EACV,QACG,OAAOP,M,+DCJT,SAASU,IACb,IAAMJ,EAAWK,aAAY,SAACX,GAAD,OAAWA,EAAMM,YACxCM,EAAqBN,EAASF,QAAO,SAACS,GAAD,MAAgC,UAAnBA,EAAQJ,UAAoBK,OAC9EC,EAAmBT,EAASF,QAAO,SAACS,GAAD,MAAgC,QAAnBA,EAAQJ,UAAkBK,OAEhF,OACG,4BAAQE,UAAU,UACf,yBAAKA,UAAU,qBACZ,yBAAKC,IAAKC,IAAOC,IAAI,QAAQH,UAAU,kBAEvC,4BAAQA,UAAU,uCACf,yBAAKC,IAAKG,IAAOD,IAAI,UACrB,0BAAMH,UAAU,8CAA8CJ,IAGjE,4BAAQI,UAAU,qCACf,yBAAKC,IAAKI,IAAKF,IAAI,QACnB,0BAAMH,UAAU,0BAA0BD,M,4BCMlD,IAYMO,EAAsB,SAACd,GAAD,MAChC,CAACN,KHxCyB,gBGwCJC,QAAS,CAC5BK,KACAC,OAAQ,Q,sCCnCP,SAASc,EAAT,GAA+B,IAAZV,EAAW,EAAXA,QACjBW,EAAWC,cAETjB,EAA2CK,EAA3CL,GAAIU,EAAuCL,EAAvCK,MAAOQ,EAAgCb,EAAhCa,MAAOC,EAAyBd,EAAzBc,MAAOC,EAAkBf,EAAlBe,MAAOnB,EAAWI,EAAXJ,OAClCoB,EAAoC,YAAcH,EAClDI,EAAuB,UAAXrB,EAAsBsB,IAAcX,IAChDY,EAAqB,QAAXvB,EAAoBwB,IAAYZ,IAqBhD,OACG,yBAAKL,UAAU,wCACZ,yBAAKC,IAAKY,EAAUV,IAAI,SAASH,UAAU,6BAC3C,wBAAIA,UAAU,4BAA4BE,GAC1C,yBAAKF,UAAU,8CACZ,yBAAKA,UAAU,4BAA4BW,EAA3C,KAEA,4BAAQX,UAAU,2DAA2DkB,QAzBnE,WAKhBV,EAJe,UAAXf,EDUiB,SAACD,GAAD,MACxB,CAACN,KH5ByB,gBG4BJC,QAAS,CAC5BK,KACAC,OAAQ,UCTC0B,CAAY3B,GAHTc,EAAoBd,MAwBvB,yBAAKS,IAAKa,EAAUX,IAAI,WAG3B,4BAAQH,UAAU,0DAA0DkB,QApB9D,WAKpBV,EAJe,QAAXf,EDOqB,SAACD,GAAD,MAC5B,CAACN,KHlCyB,gBGkCJC,QAAS,CAC5BK,KACAC,OAAQ,QCNC2B,CAAgB5B,GAHbc,EAAoBd,MAmBvB,yBAAKS,IAAKe,EAAQb,IAAI,UAI3BS,GAAS,yBAAKZ,UAAW,0DAA4DY,GAAQA,IChDhG,SAASS,IACb,IAAMb,EAAWC,cACX9B,EAAYgB,aAAa,SAAAX,GAAK,OAAIA,EAAMD,SAASJ,aACjDC,EAAUe,aAAY,SAACX,GAAD,OAAWA,EAAMD,SAASH,WAClDU,EAAWK,aAAY,SAACX,GAAD,OAAWA,EAAMM,YACtCgC,EAAUhC,EAASQ,OAAUR,EAASA,EAASQ,OAAS,GAAGN,GAAK,EAAI,KAa1E,OAXAF,EAAWA,EAASF,QAAO,SAACS,GAAD,OAuB9B,SAAuBA,EAASjB,GAC7B,cAAmB2C,OAAOC,KAAK5C,GAA/B,eAAyC,CAApC,IAAIQ,EAAM,KACZ,GAAKR,EAAQQ,IACTS,EAAQT,KAAYR,EAAQQ,GAAS,OAAO,EAEnD,OAAO,EA5BiCqC,CAAc5B,EAASjB,OAEjDkB,QAAWnB,GACtB6B,EFZH,uCAAO,WAAOA,GAAP,iBAAAkB,EAAA,6DACJlB,EAAS,CAAEtB,KHCU,gBGFjB,SAGmByC,MAA+B,kBAHlD,cAGEC,EAHF,gBAImBA,EAASC,OAJ5B,OAIEvC,EAJF,OAMJkB,EAAS,CAAEtB,KHTa,iBGSSC,QAASG,IAC1CkB,EAAS,CAAEtB,KHJU,gBGHjB,2CAAP,uDEeAI,EAAWA,EAASwC,KAAI,SAACjC,GAAD,OACrB,kBAACU,EAAD,CAASV,QAASA,EAASkC,IAAKlC,EAAQL,QAKxC,yBAAKQ,UAAU,uBACVV,EACF,4BACGU,UAAU,8BACVkB,QAAS,kBAAMV,EFdpB,SAA0Bc,GAC9B,8CAAO,WAAOd,GAAP,iBAAAkB,EAAA,6DACJlB,EAAS,CAAEtB,KHXU,gBGUjB,SAGmByC,MAA+B,kBAHlD,cAGEC,EAHF,gBAImBA,EAASC,OAJ5B,QAIEvC,EAJF,QAKK0C,SAAQ,SAACnC,GACfA,EAAQL,GAAK8B,OAGhBd,EAAS,CAAEtB,KHxBa,iBGwBSC,QAASG,IAC1CkB,EAAS,CAAEtB,KHnBU,gBGSjB,4CAAP,sDEaiC+C,CAAiBX,MAF5C,cCvBF,SAASY,IACb,IAAM1B,EAAWC,cAEjB,SAAS0B,EAAmBC,GACzB,IAAMhD,EAASgD,EAAMC,OAAOC,KACtBjD,EAAQ+C,EAAMC,OAAOhD,MAC3BmB,EH4CC,SAAsBpB,EAAQC,GAElC,OADKA,IAAOA,EAAQ,MACZ,CACLH,KHjDuB,gBGkDvBC,QAAS,CAAEC,SAAQC,UGhDVkD,CAAanD,EAAQC,IAGjC,OACG,yBAAKW,UAAU,8BACZ,yBAAKA,UAAU,mBACZ,4BAAQsC,KAAK,OAAOE,SAAUL,GAC3B,4BAAQ9C,MAAM,IAAd,cACA,4BAAQA,MAAM,KAAd,WACA,4BAAQA,MAAM,KAAd,cAIN,yBAAKW,UAAU,mBACZ,4BAAQsC,KAAK,UAAUE,SAAUL,GAC9B,4BAAQ9C,MAAM,IAAd,gBACA,4BAAQA,MAAM,QAAd,gBACA,4BAAQA,MAAM,UAAd,oBAIN,yBAAKW,UAAU,mBACZ,4BAAQsC,KAAK,QAAQE,SAAUL,GAC5B,4BAAQ9C,MAAM,IAAd,SACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,UAAd,aC/BR,IAAMoD,EAAW,kBACrB,yBAAKzC,UAAU,aACZ,kBAACkC,EAAD,MACA,kBAACb,EAAD,QCWSqB,MATf,WACE,OACE,oCACE,kBAAChD,EAAD,MACA,kBAAC,EAAD,QCHAiD,EAAQC,YAAY/D,EAAagE,YACrCC,YAAgBC,KAChBC,OAAOC,8BAAgCD,OAAOC,iCAGhDC,iBACE,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUR,MAAOA,GACf,kBAAC,EAAD,QAGJS,SAASC,eAAe,U,kBCrB1B7E,EAAOC,QAAU,IAA0B,mC,kBCA3CD,EAAOC,QAAU,IAA0B,kC","file":"static/js/main.26e9d359.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/title.3d261bb2.svg\";","module.exports = __webpack_public_path__ + \"static/media/filled-heart.0f0a056e.svg\";","module.exports = __webpack_public_path__ + \"static/media/filled-bag.7d3288e5.svg\";","import { SHOW_LOADER, HIDE_LOADER, CHANGE_FILTER } from \"./types\"\n\nconst initialState = {\n   isLoading: false,\n   filters: {}\n}\n\nexport const mainPageReducer = (state = initialState, action) => {\n   switch (action.type) {\n      case SHOW_LOADER:\n         return { ...state, isLoading: true }\n      case HIDE_LOADER:\n         return { ...state, isLoading: false }\n      case CHANGE_FILTER:\n         const filters = {...state.filters};\n         filters[action.payload.filter] = action.payload.value\n         return {...state, filters}\n      default:\n         return state\n   }\n}","import { combineReducers } from \"redux\";\n\nimport { productsReducer } from './productsReducer';\nimport { mainPageReducer } from \"./mainPageReducer\";\n\nexport const rootReducer = combineReducers({\n   mainPage: mainPageReducer,\n   products: productsReducer\n})","// products\nexport const FETCH_PRODUCTS = 'FETCH_PRODUCTS'\nexport const SAVE_PRODUCT = 'SAVE_PRODUCT'\nexport const ADD_PRODUCT_TO_BAG = 'ADD_PRODUCT_TO_BAG'\nexport const CHANGE_STATUS = 'CHANGE_STATUS'\n// mainPage\nexport const SHOW_LOADER = 'SHOW_LOADER'\nexport const HIDE_LOADER = 'HIDE_LOADER'\nexport const CHANGE_FILTER = 'CHANGE_FILTER'","import { FETCH_PRODUCTS, CHANGE_STATUS } from \"./types\"\n\n\nexport const productsReducer = (state = [], action) => {\n   switch (action.type) {\n      case FETCH_PRODUCTS:\n         return [...state, ...action.payload]\n      case CHANGE_STATUS:\n         const newState = [...state]\n         newState[action.payload.id].status = action.payload.status\n         return newState\n      default:\n         return state\n   }\n}","import React from 'react'\nimport { useSelector } from 'react-redux';\n\nimport title from '../img/title.svg';\nimport heart from '../img/heart.svg';\nimport bag from '../img/bag.svg';\n\n\nexport function Header() {\n   const products = useSelector((state) => state.products)\n   const savedProductsCount = products.filter((product) => product.status === 'saved').length;\n   const bagProductsCount = products.filter((product) => product.status === 'bag').length;\n\n   return (\n      <header className=\"header\">\n         <div className=\"header__container\">\n            <img src={title} alt=\"title\" className=\"header__title\" />\n\n            <button className=\"header__button header__saved-button\">\n               <img src={heart} alt=\"saved\" />\n               <span className=\"header__products-count header__saved-count\">{savedProductsCount}</span>\n            </button>\n            \n            <button className=\"header__button header__bag-button\">\n               <img src={bag} alt=\"bag\" />\n               <span className=\"header__products-count\">{bagProductsCount}</span>\n            </button>\n         </div>\n      </header>\n   )\n}","import { FETCH_PRODUCTS, SHOW_LOADER, HIDE_LOADER, CHANGE_STATUS, CHANGE_FILTER } from \"./types\";\n\n\nexport function fetchFirstProducts() {\n   return async (dispatch) => {\n      dispatch({ type: SHOW_LOADER })\n\n      const response = await fetch(process.env.PUBLIC_URL + '/products.json');\n      const products = await response.json()\n\n      dispatch({ type: FETCH_PRODUCTS, payload: products })\n      dispatch({ type: HIDE_LOADER })\n   }\n}\n\nexport function fetchNewProducts(nextId) {\n   return async (dispatch) => {\n      dispatch({ type: SHOW_LOADER })\n\n      const response = await fetch(process.env.PUBLIC_URL + '/products.json');\n      const products = await response.json()\n      products.forEach((product) => {\n         product.id = nextId++\n      })\n\n      dispatch({ type: FETCH_PRODUCTS, payload: products })\n      dispatch({ type: HIDE_LOADER })\n   }\n}\n\n\nexport const saveProduct = (id) => (\n   {type: CHANGE_STATUS, payload: {\n      id,\n      status: 'saved'\n   }}\n)\nexport const addProductToBag = (id) => (\n   {type: CHANGE_STATUS, payload: {\n      id,\n      status: 'bag'\n   }}\n)\nexport const removeProductStatus = (id) => (\n   {type: CHANGE_STATUS, payload: {\n      id,\n      status: null\n   }}\n)\n\n\nexport const showLoader = () => ({ type: SHOW_LOADER })\nexport const hideLoader = () => ({ type: HIDE_LOADER })\n\nexport function changeFilter(filter, value) {\n   if (!value) value = null\n   return ({\n      type: CHANGE_FILTER,\n      payload: { filter, value }\n   })\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport heart from '../../img/heart.svg';\nimport filledHeart from '../../img/filled-heart.svg';\nimport bag from '../../img/bag.svg';\nimport filledBag from '../../img/filled-bag.svg';\n\nimport { saveProduct, addProductToBag, removeProductStatus } from '../../redux/actions';\n\n\nexport function Product({ product }) {\n   const dispatch = useDispatch()\n\n   const { id, title, image, price, label, status } = product\n   const imageSrc = process.env.PUBLIC_URL + '/minions/' + image\n   const heartSrc = (status === 'saved') ? filledHeart : heart\n   const bagSrc = (status === 'bag') ? filledBag : bag\n\n\n   const handleSave = () => {\n      if (status === 'saved') {\n         dispatch(removeProductStatus(id))\n         return\n      }\n      dispatch(saveProduct(id))\n   }\n\n\n   const handleAddToBag = () => {\n      if (status === 'bag') {\n         dispatch(removeProductStatus(id))\n         return\n      }\n      dispatch(addProductToBag(id))\n   }\n\n\n   return (\n      <div className=\"main-page__product main-page-product\">\n         <img src={imageSrc} alt=\"minion\" className=\"main-page-product__image\" />\n         <h4 className=\"main-page-product__title\">{title}</h4>\n         <div className=\"main-page-product__price-buttons-container\">\n            <div className=\"main-page-product__price\">{price}$</div>\n\n            <button className=\"main-page-product__button main-page-product__save-button\" onClick={handleSave}>\n               <img src={heartSrc} alt=\"saved\" />\n            </button>\n\n            <button className=\"main-page-product__button main-page-product__bag-button\" onClick={handleAddToBag}>\n               <img src={bagSrc} alt=\"bag\" />\n            </button>\n         </div>\n\n         {label && <div className={\"main-page-product__label main-page-product__label_type_\" + label}>{label}</div>}\n      </div>\n   )\n}","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchFirstProducts, fetchNewProducts } from '../../redux/actions';\nimport { Product } from './Product';\n\n\nexport function Products() {\n   const dispatch = useDispatch();\n   const isLoading = useSelector((state => state.mainPage.isLoading))\n   const filters = useSelector((state) => state.mainPage.filters)\n   let products = useSelector((state) => state.products);\n   const nextId = (products.length) ? products[products.length - 1].id + 1 : null\n   \n   products = products.filter((product) => filterProduct(product, filters))\n\n   if (!products.length && !isLoading) {\n      dispatch(fetchFirstProducts())\n   }\n\n   products = products.map((product) => (\n      <Product product={product} key={product.id} />\n   ));\n   \n   \n   return (\n      <div className=\"main-page__products\">\n         { products }\n         <button\n            className=\"main-page__load-more-button\"\n            onClick={() => dispatch(fetchNewProducts(nextId))}\n         >Load more</button>\n      </div>\n   )\n}\n\n\nfunction filterProduct(product, filters) {\n   for (let filter of Object.keys(filters)) {\n      if (!filters[filter]) continue\n      if (product[filter] !== filters[filter]) return false\n   }\n   return true\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { changeFilter } from '../../redux/actions';\n\nexport function Filters() {\n   const dispatch = useDispatch();\n\n   function handleFilterChange(event) {\n      const filter = event.target.name\n      const value = event.target.value\n      dispatch(changeFilter(filter, value))\n   }\n\n   return (\n      <div className=\"main-page__filters filters\">\n         <div className=\"filters__select\">\n            <select name=\"eyes\" onChange={handleFilterChange}>\n               <option value=\"\">Eyes count</option>\n               <option value=\"1\">One eye</option>\n               <option value=\"2\">Two eyes</option>\n            </select>\n         </div>\n\n         <div className=\"filters__select\">\n            <select name=\"clothes\" onChange={handleFilterChange}>\n               <option value=\"\">Clothes type</option>\n               <option value=\"work\">Work clothes</option>\n               <option value=\"casual\">Casual clothes</option>\n            </select>\n         </div>\n\n         <div className=\"filters__select\">\n            <select name=\"color\" onChange={handleFilterChange}>\n               <option value=\"\">Color</option>\n               <option value=\"yellow\">Yellow</option>\n               <option value=\"purple\">Purple</option>\n            </select>\n         </div>\n      </div>\n   )\n}","import React from 'react';\nimport { Products } from './Products';\nimport { Filters } from './Filters';\n\nexport const MainPage = () => (\n   <div className=\"main-page\">\n      <Filters />\n      <Products />\n   </div>\n)","import React from 'react';\n\nimport 'normalize.css';\nimport './styles/style.scss';\n\nimport { Header } from './components/Header';\nimport { MainPage } from './components/mainPage/MainPage';\n\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <MainPage />\n    </>\n  );\n}\n\nexport default App;","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport { rootReducer } from './redux/rootReducer';\nimport App from './App';\n\n\nconst store = createStore(rootReducer, compose(\n  applyMiddleware(thunk),\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n))\n\nrender(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/heart.7746f5e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/bag.2dcbf8cf.svg\";"],"sourceRoot":""}